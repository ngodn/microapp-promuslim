<!DOCTYPE html>
<html lang="en">
  <head itemscope="" itemtype="http://schema.org/WebSite">
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
      name="viewport"
    />
    <meta
      content="bZy1hUHwYCR1jasFz-tOXC0oPPX65TADe1phMtvjomQ"
      name="google-site-verification"
    />
    <meta content="ID" property="og:locale" />
    <meta content="SIFORLAT" name="author" />
    <meta content="website" property="og:type" />
    <meta content="#081569" name="theme-color" />
    <meta content="true" name="u2f-support" />
    <meta content="siforlat.com" name="hostname" />
    <title>Pro Muslim | Sistem Informasi Jadwal Sholat</title>
    <meta
      name="description"
      content="Sistem Informasi Jadwal Sholat - Pro Muslim merupakan aplikasi untuk menampilkan jadwal sholat secara realtime, informasi kajian, jadawal imam dan khotib, video kajian, dan informasi masjid lainya."
    />
    <meta
      name="keywords"
      content="sistem informasi jadwal sholat,jadwal sholat,prayer times,aplikasi jadwal sholat,sistem informasi masjid"
    />
    <meta name="author" content="Pro Muslim" />
    <meta
      name="image"
      content="https://res.cloudinary.com/muhammadyana/image/upload/v1543910639/siforlat/siforlat-thumbnail.jpg"
    />
    <title>Sistem Informasi Jadwal Sholat</title>
    <meta
      name="description"
      content="Sistem Informasi Jadwal Sholat - Pro Muslim merupakan aplikasi untuk menampilkan jadwal sholat secara realtime, informasi kajian, jadawal imam dan khotib, video kajian, dan informasi masjid lainya."
    />
    <meta
      name="keywords"
      content="sistem informasi jadwal sholat,jadwal sholat,prayer times,aplikasi jadwal sholat,sistem informasi masjid"
    />
    <meta property="og:title" content="Sistem Informasi Jadwal Sholat" />
    <meta
      property="og:description"
      content="Sistem Informasi Jadwal Sholat - Pro Muslim merupakan aplikasi untuk menampilkan jadwal sholat secara realtime, informasi kajian, jadawal imam dan khotib, video kajian, dan informasi masjid lainya."
    />
    <meta name="author" content="Pro Muslim" />
    <meta
      name="image"
      content="https://res.cloudinary.com/muhammadyana/image/upload/v1543910639/siforlat/siforlat-thumbnail.jpg"
    />
    <!-- <meta content="https://siforlat.com/" property="og:url" /> -->
    <meta
      content="https://res.cloudinary.com/muhammadyana/image/upload/v1543910639/siforlat/siforlat-thumbnail.jpg"
      property="og:image"
    />
    <meta
      content="Pro Muslim - Sistem Informasi Jadwal Sholat"
      property="og:title"
    />
    <meta content="summary" name="twitter:card" />
    <meta
      content="SIFORLAT - Sistem Informasi Jadwal Sholat"
      name="twitter:title"
    />
    <meta
      content="Sistem Informasi Jadwal Sholat - Pro Muslim merupakan aplikasi untuk menampilkan jadwal sholat secara realtime, informasi kajian, jadawal imam dan khotib, video kajian, dan informasi masjid lainya."
      name="twitter:description"
    />
    <!-- <meta content="https://siforlat.com" name="twitter:url" /> -->
    <meta name="csrf-param" content="authenticity_token" />
    <meta
      name="csrf-token"
      content="R3epuoZjzegFS3ZUlNB+nqRw/JL5Oof+n4ffNv3Ov5H3FDYkYmlaUWOncDZCQKe9zeWhqrj44n/OFote3f4C0w=="
    />
    <link
      rel="stylesheet"
      media="all"
      href="assets/landing-6ef1c5541919124b01568c4354aa2ab876956141dd3aafd7f92c82005d48265e.css"
    />
    <link
      rel="apple-touch-icon-precomposed"
      type="image/png"
      href="assets/siforlat-icon-cac412cd3a80a110b6bce80e95b00f15f0d5957e0eb0167b8ad298be6e334d05.png"
      sizes="144x144"
    />
    <link
      rel="apple-touch-icon-precomposed"
      type="image/png"
      href="assets/siforlat-icon-cac412cd3a80a110b6bce80e95b00f15f0d5957e0eb0167b8ad298be6e334d05.png"
      sizes="114x114"
    />
    <link
      rel="apple-touch-icon-precomposed"
      type="image/png"
      href="assets/siforlat-icon-cac412cd3a80a110b6bce80e95b00f15f0d5957e0eb0167b8ad298be6e334d05.png"
      sizes="72x72"
    />
    <link
      rel="apple-touch-icon-precomposed"
      type="image/png"
      href="assets/siforlat-icon-cac412cd3a80a110b6bce80e95b00f15f0d5957e0eb0167b8ad298be6e334d05.png"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="assets/siforlat-icon-cac412cd3a80a110b6bce80e95b00f15f0d5957e0eb0167b8ad298be6e334d05.png"
    />
    <script
      async=""
      src="https://www.googletagmanager.com/gtag/js?id=UA-130269337-1"
    ></script>
    <script src="assets/landing-cec10f31786ae7b1e52406216c924b66b605074f5179efb00143a5108d1b56cf.js"></script>
  </head>

  <body>
    <header class="header-global">
      <nav
        class="navbar navbar-main navbar-expand-lg navbar-transparent navbar-light headroom"
        id="navbar-main"
      >
        <div class="container">
          <a
            class="navbar-brand mr-lg-5"
            data-turbolinks="false"
            href="index.html"
            ><img src="xlinx-logo_horizontal.png"/></a
          ><button
            aria-controls="navbar_global"
            aria-expanded="false"
            aria-label="Toggle navigation"
            class="navbar-toggler"
            data-target="#navbar_global"
            data-toggle="collapse"
            type="button"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="navbar-collapse collapse" id="navbar_global">
            <div class="navbar-collapse-header">
              <div class="row">
                <div class="col-6 collapse-brand">
                  <a class="navbar-brand mr-lg-5" href="index.html"
                    ><img src="xlinx-logo_horizontal_black.png"
                  /></a>
                </div>
                <div class="col-6 collapse-close">
                  <button
                    aria-controls="navbar_global"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                    class="navbar-toggler"
                    data-target="#navbar_global"
                    data-toggle="collapse"
                    type="button"
                  >
                    <span></span><span></span>
                  </button>
                </div>
              </div>
            </div>
            <ul class="navbar-nav navbar-nav-hover align-items-lg-center">
              <li class="nav-item dropdown">
                <a
                  class="nav-link"
                  data-toggle="dropdown"
                  href="index.html#"
                  role="button"
                  ><i class="ni ni-collection d-lg-none"></i
                  ><span class="nav-link-inner--text"
                    >Micro App Services</span
                  ></a
                >
                <!-- <div class="dropdown-menu">
                  <a class="dropdown-item" href="#" target="_blank">
                    API Source Code</a
                  ><a class="dropdown-item" href="#" target="_blank">
                    API Documentation</a
                  >
                </div> -->
              </li>
            </ul>
            <ul class="navbar-nav align-items-lg-center ml-lg-auto">
              <li class="nav-item">
                <a
                  class="nav-link nav-link-icon"
                  data-toggle="tooltip"
                  href="#"
                  target="_blank"
                  title="Star us on Github"
                  ><i class="fa fa-github"></i
                  ><span class="nav-link-inner--text d-lg-none">Github</span></a
                >
              </li>
              <li class="nav-item d-lg-block ml-lg-4">
                <a class="btn btn-neutral btn-icon" href="users/sign_in.html"
                  ><span class="nav-link-inner--text">Login</span></a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <main>
      <div class="position-relative">
        <!--shape Hero-->
        <section class="section section-lg section-shaped pb-250">
          <div class="shape shape-style-1 shape-blue">
            <span></span><span></span><span></span><span></span><span></span
            ><span></span><span></span><span></span><span></span>
          </div>
          <div class="container py-lg-md d-flex">
            <div class="col px-0">
              <div class="row">
                <div class="col-lg-6">
                  <h1 class="display-3 text-white">
                    PRO MUSLIM
                  </h1>
                  <p class="lead text-white">
                    Jadwal Solat
                  </p>
                  <!-- <div class="btn-wrapper">
                    <a
                      class="btn btn-white btn-icon mb-3 mb-sm-0"
                      href="index.html#"
                      ><span class="btn-inner--icon"
                        ><i class="ni ni-button-play"></i></span
                      ><span class="btn-inner--text">Download App</span></a
                    >
                  </div> -->
                </div>
                <div class="col-lg-6">
                  <div id="clock"></div>
                  <center class="mb-4">
                    <p class="text-white" id="upcomingPrayer"></p>
                    <p class="text-white" id="gettingCurrentLocation"></p>
                    <div id="loader">
                      <div id="timeDiv"></div>
                    </div>
                    <div id="upcomingSchedule"></div>
                  </center>
                </div>
              </div>
            </div>
          </div>
          <!--SVG separator-->
          <div class="separator separator-bottom separator-skew">
            <svg
              preserveaspectratio="none"
              version="1.1"
              viewbox="0 0 2560 100"
              x="0"
              xmlns="http://www.w3.org/2000/svg"
              y="0"
            >
              <polygon
                class="fill-white"
                points="2560 0 2560 100 0 100"
              ></polygon>
            </svg>
          </div>
        </section>
        <!--1st Hero Variation-->
      </div>
      <section class="section section-lg pt-lg-0 mt--200">
        <div class="container-fluid">
          <div class="row justify-content-center" id="prayerSchedule">
            <div class="col-lg-12">
              <div class="row row-grid">
                <div class="col-lg-2">
                  <div class="card card-lift--hover shadow border-0">
                    <div class="card-body">
                      <center>
                        <div
                          class="icon icon-shape icon-shape-success rounded-circle mb-2"
                        >
                          <i class="ni ni-istanbul"></i>
                        </div>
                        <h6 class="text-info text-uppercase">Imsak</h6>
                        <h1
                          class="text-success text-uppercase imsak prayer-clock"
                        ></h1>
                      </center>
                    </div>
                  </div>
                </div>
                <div class="col-lg-2">
                  <div class="card card-lift--hover shadow border-0">
                    <div class="card-body">
                      <center>
                        <div
                          class="icon icon-shape icon-shape-success rounded-circle mb-2"
                        >
                          <i class="ni ni-istanbul"></i>
                        </div>
                        <h6 class="text-info text-uppercase">Subuh</h6>
                        <h1
                          class="text-success text-uppercase subuh prayer-clock"
                        ></h1>
                      </center>
                    </div>
                  </div>
                </div>
                <div class="col-lg-2">
                  <div class="card card-lift--hover shadow border-0">
                    <div class="card-body">
                      <center>
                        <div
                          class="icon icon-shape icon-shape-success rounded-circle mb-2"
                        >
                          <i class="ni ni-istanbul"></i>
                        </div>
                        <h6 class="text-info text-uppercase">Dzuhur</h6>
                        <h1
                          class="text-success text-uppercase dzuhur prayer-clock"
                        ></h1>
                      </center>
                    </div>
                  </div>
                </div>
                <div class="col-lg-2">
                  <div class="card card-lift--hover shadow border-0">
                    <div class="card-body">
                      <center>
                        <div
                          class="icon icon-shape icon-shape-success rounded-circle mb-2"
                        >
                          <i class="ni ni-istanbul"></i>
                        </div>
                        <h6 class="text-info text-uppercase">Asr</h6>
                        <h1
                          class="text-success text-uppercase ashar prayer-clock"
                        ></h1>
                      </center>
                    </div>
                  </div>
                </div>
                <div class="col-lg-2">
                  <div class="card card-lift--hover shadow border-0">
                    <div class="card-body">
                      <center>
                        <div
                          class="icon icon-shape icon-shape-success rounded-circle mb-2"
                        >
                          <i class="ni ni-istanbul"></i>
                        </div>
                        <h6 class="text-info text-uppercase">Magrib</h6>
                        <h1
                          class="text-success text-uppercase magrib prayer-clock"
                        ></h1>
                      </center>
                    </div>
                  </div>
                </div>
                <div class="col-lg-2">
                  <div class="card card-lift--hover shadow border-0">
                    <div class="card-body">
                      <center>
                        <div
                          class="icon icon-shape icon-shape-success rounded-circle mb-2"
                        >
                          <i class="ni ni-istanbul"></i>
                        </div>
                        <h6 class="text-info text-uppercase">Isya</h6>
                        <h1
                          class="text-success text-uppercase isya prayer-clock"
                        ></h1>
                      </center>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <script>
      $("#prayerSchedule").hide(100);
      $("#gettingCurrentLocation").html(
        "Getting Your current location......." +
          "<br>" +
          "Please allow location access from your browser to get your current location"
      );
      navigator.geolocation.getCurrentPosition(loc => {
        console.log(
          "your location is: [",
          loc.coords.latitude,
          ",",
          loc.coords.longitude,
          "]"
        );
        $.ajax({
          type: "GET",
          url:
            "https://maps.googleapis.com/maps/api/geocode/json?latlng=" +
            loc.coords.latitude +
            "," +
            loc.coords.longitude +
            "&sensor=true&key=AIzaSyAgPpgOeWedR2DXbnJYcg0hI9rFGVJQ5dw",
          cache: false,
          success: function(data) {
            console.log(
              "https://maps.googleapis.com/maps/api/geocode/json?latlng=" +
                loc.coords.latitude +
                "," +
                loc.coords.longitude +
                "&sensor=true&key=AIzaSyAgPpgOeWedR2DXbnJYcg0hI9rFGVJQ5dw"
            );
            $("#upcomingPrayer").html(
              "Upcoming Prayer Time in " +
                "<strong>" +
                data.results[1].address_components[4].long_name +
                "," +
                data.results[0].address_components[7].long_name +
                "</strong>"
            );
            console.log(data.results[0].address_components[1].long_name);
          }
        });

        var duration = function(end) {
          var start = moment();
          // mencari jarak berupa detik
          //jam tujuan dikurangi dengan jam sekarang dengan moment diff dalam bentuk detik
          //console.log(start); //lihat waktu sekarang dari moment.
          return end.diff(start, "seconds");
        };
        var strToMoment = function(str) {
          // mengubah string ke moment object hari ini
          // javascript memang pusing. but its beutiful
          // misal: 18:00 => akan diubah ke moment berdasarkan hari sekarang jam 18:00
          // HH => jam 00 - 24
          // mm => 00 - 59
          return moment(str, "HH:mm");
        };
        var getJadwal = function(when) {
          prayTimes.setMethod("Karachi");
          // mendapatkan moment object pada hari ini
          var toDay = moment();
          if (when == "tomorrow") {
            // jika besok maka tambah satu hari
            date = toDay.add("1", "days");
          } else {
            // hari ini
            date = toDay;
          }

          return prayTimes.getTimes(
            date.toDate(),
            [loc.coords.latitude, loc.coords.longitude],
            +7
          );
        };
        var getUpcomingSchedule = function() {
          var result = null;
          // looping berdasarkan jadwal hari ini
          // tergantung urutan di json dari praytime
          // baru engeh di praytime ada midnight. pantes dari isya ke subuh jedahnya cuma 4 jam
          // ga taunya itu midnight bukan subuh.
          // 2 hari nyari ginian baru ketemu. you make me........!
          // harus di delete lagi json objectnya :(
          // untung ada di google
          // karena urutan dari subuh ke isya jadi gk perlu reorder lagi
          var jedah = getJadwal(); // data json jadwal sholat
          var hapus = "midnight"; //cari yg mau dihapus
          //console.log(jedah);
          delete jedah[hapus]; //hapus midnight biar langsung ke subuh
          // console.log(jedah);

          $.each(jedah, function(key, val) {
            momentVal = strToMoment(val);
            // jika jam sholat belum lewat jam sekarang
            // jadwal dari praytime dibandingin sama jam sekarang lebih dari nol brrti itu jadwal sepanjutnya
            if (momentVal.diff(moment()) > 0) {
              result = strToMoment(val);
              //console.log(result);
              return false;
            }
          });
          //console.log(getUpcomingSchedule);

          // jika hari ini sudah melewati sholat isya
          if (result === null) {
            result = strToMoment(getJadwal("tomorrow").fajr).add(1, "days");
          }
          return result;
        };

        var duration = function(end) {
          var start = moment();
          // mencari jarak berupa detik
          //jam tujuan dikurangi dengan jam sekarang dengan moment diff dalam bentuk detik
          //console.log(start); //lihat waktu sekarang dari moment.
          return end.diff(start, "seconds");
        };
        // console.log(getJadwal())
        $(document).ready(function() {
          var getScheduleFor = getJadwal();
          console.log(getScheduleFor);
          // var clock = $('.clock').FlipClock(3600);

          console.log(getScheduleFor.fajr);
          var upcoming = getUpcomingSchedule();

          var theCounter = $("#upcomingSchedule").FlipClock(
            duration(upcoming),
            {
              clockFace: "HourCounter",
              countdown: true,
              autoStart: false,
              //console.log(theCounter)
              callbacks: {
                interval: function() {
                  // mendapatkan jeda waktu ke sholat selanjutnya
                  //console.log(theCounter.getTime().time);
                  /* var time = theCounter.getTime().time;
                   * console.log(time);
                   * Minggu 17:20 @ Lab sisdig nyari selang sekian menit di flipclockjs.
                   * jika waktu solat selanjutnya 1 jam lagi maka beri reminder
                   */
                  //console.log(duration(upcoming));
                  if (theCounter.getTime().time == 3600) {
                    $(".audioSatujam").trigger("load");
                    $(".audioSatujam").trigger("play");
                  }
                  // jika waktu solat selanjutnya 30 menit lagi. maka beri reminder
                  if (theCounter.getTime().time == 1800) {
                    $(".audioTigaPuluh").trigger("load");
                    $(".audioTigaPuluh").trigger("play");
                  }
                  // jika wakto solat sleanjutnya 10 menit lagi, maka beri reminder
                  if (theCounter.getTime().time == 600) {
                    $(".audioSepuluh").trigger("load");
                    $(".audioSepuluh").trigger("play");
                  }

                  // jika wakto solat sleanjutnya lima menit lagi, maka beri reminder
                  if (theCounter.getTime().time == 300) {
                    $(".audioLima").trigger("load");
                    $(".audioLima").trigger("play");
                    //$(".videokajian").trigger('pause');
                    // 5 minute before adzan change video to slider
                  }
                  // jika wakto solat sleanjutnya 3 menit lagi, maka beri reminder
                  // if ( theCounter.getTime().time == 180) {
                  // 	$(".audioTiga").trigger('load');
                  // 	$(".audioTiga").trigger('play');
                  // }
                  // jika wakto solat sleanjutnya 1 menit lagi, maka beri reminder
                  if (theCounter.getTime().time == 60) {
                    //swal("Good job!", "Selamat Menggunakan Aplikasi Kami :) ", "success");
                    $(".audioSatuMenit").trigger("load");
                    $(".audioSatuMenit").trigger("play");
                  }
                },
                stop: function() {
                  // jalankan counter dengan jarak
                  // ke waktu sholat selanjutnya
                  // var AdzanAudio = new Audio('adzan.mp3');
                  // AdzanAudio.play();
                  $(".videokajian").trigger("pause");
                  $(".audioAdzan").trigger("load");
                  $(".audioAdzan").trigger("play");
                  // ketika sudah lewat 10 menit dari waktu solat beri reminder
                  setTimeout(function() {
                    // var afterTenMinutue = new Audio('after2.mp3');
                    // afterTenMinutue.play();
                    // naha sih kudu ka ms
                    //1 detik = 1000 milisecond
                    // 1 menit = 60000 ms
                    //10 menit = 600000 ms
                    // 20 menit 1200000
                    //reminder pertama
                    upcoming = getUpcomingSchedule();
                    theCounter.setTime(duration(upcoming));
                    theCounter.start();
                  }, 10000);
                  setTimeout(function() {
                    // var afterTwentyMinute = new Audio('after20.mp3');
                    // afterTwentyMinute.play();
                    // $(".videokajian").trigger('play');
                    //20 minute after adzan change slider to video kajian
                    //reminder lagi. gera solat woy
                  }, 10000);
                }
              }
            }
          );
          console.log(getJadwal().isha);
          $("#jsonData").html(JSON.stringify(getJadwal()));
          theCounter.start();
          $("#timeDiv").show("fast");
          $(".subuh").html(getScheduleFor.fajr);
          $(".fajar").html(getScheduleFor.sunrise);
          $(".imsak").html(getScheduleFor.imsak);
          $(".dzuhur").html(getScheduleFor.dhuhr);
          $(".ashar").html(getScheduleFor.asr);
          $(".magrib").html(getScheduleFor.maghrib);
          $(".isya").html(getScheduleFor.isha);
          $("#prayerSchedule").show("fast");
          $("#gettingCurrentLocation").hide();
          $("#loader").hide();
          // var clock = $('.clock').FlipClock({});
        });
      });

      $("#clock").FlipClock({
        clockFace: "TwentyFourHourClock"
      });

      var months = [
        "Januari",
        "Februari",
        "Maret",
        "April",
        "Mei",
        "Juni",
        "Juli",
        "Agustus",
        "September",
        "Oktober",
        "November",
        "Desember"
      ];
      var myDays = [
        "Minggu",
        "Senin",
        "Selasa",
        "Rabu",
        "Kamis",
        "Jum&#39;at",
        "Sabtu"
      ];
      var date = new Date();
      var day = date.getDate();
      var month = date.getMonth();
      month = months[month];
      var thisDay = date.getDay();
      thisDay = myDays[thisDay];
      var yy = date.getYear();
      var year = yy < 1000 ? yy + 1900 : yy;
      //console.log(month);
      $(".tanggal").html(thisDay + "," + " " + day + " " + month + " " + year);
    </script>
  </body>
</html>
